{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@flarum-com/truncating-approval/./src/common/index.ts","webpack://@flarum-com/truncating-approval/./src/forum/components/RejectContentModal.tsx","webpack://@flarum-com/truncating-approval/./src/forum/extend/awaitingApprovalTooltip.tsx","webpack://@flarum-com/truncating-approval/./src/forum/extend/customFlags.tsx","webpack://@flarum-com/truncating-approval/./src/forum/index.ts","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['common/app']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['common/components/Button']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['common/extend']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['common/models/Post']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['forum/app']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['forum/components/Post']\"","webpack://@flarum-com/truncating-approval/external root \"flarum.core.compat['forum/utils/PostControls']\"","webpack://@flarum-com/truncating-approval/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@flarum-com/truncating-approval/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@flarum-com/truncating-approval/./node_modules/@babel/runtime/regenerator/index.js","webpack://@flarum-com/truncating-approval/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@flarum-com/truncating-approval/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@flarum-com/truncating-approval/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@flarum-com/truncating-approval/webpack/bootstrap","webpack://@flarum-com/truncating-approval/webpack/runtime/compat get default export","webpack://@flarum-com/truncating-approval/webpack/runtime/define property getters","webpack://@flarum-com/truncating-approval/webpack/runtime/hasOwnProperty shorthand","webpack://@flarum-com/truncating-approval/webpack/runtime/make namespace object","webpack://@flarum-com/truncating-approval/./forum.ts"],"sourcesContent":["import app from 'flarum/common/app';\n\napp.initializers.add('flarum-com/truncating-approval', () => {\n  console.log('[flarum-com/truncating-approval] Hello, forum and admin!');\n});\n","import app from 'flarum/forum/app';\n\nimport Modal, { IInternalModalAttrs } from 'flarum/common/components/Modal';\nimport Post from 'flarum/common/models/Post';\nimport Stream from 'flarum/common/utils/Stream';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n\nimport type Mithril from 'mithril';\nimport Button from 'flarum/common/components/Button';\nimport extractText from 'flarum/common/utils/extractText';\n\ninterface RejectContentModalAttrs extends IInternalModalAttrs {\n  post: Post;\n  onsubmit: (reason: string) => Promise<void>;\n}\n\ninterface RejectContentModalState {\n  reason: string;\n}\n\nexport class RejectContentModal extends Modal<RejectContentModalAttrs, RejectContentModalState> {\n  state = {\n    reason: Stream<string>(''),\n    loadingPreview: Stream<boolean>(true),\n    preview: Stream<string | null>(null),\n  };\n\n  className(): string {\n    return 'TruncatingApproval-RejectContentModal';\n  }\n\n  title() {\n    return app.translator.trans('flarum-com-truncating-approval.forum.reject_content_modal.title');\n  }\n\n  content() {\n    return (\n      <>\n        <div class=\"Modal-body\">\n          <p>{app.translator.trans('flarum-com-truncating-approval.forum.reject_content_modal.body')}</p>\n\n          <div class=\"Form-group\">\n            <p class=\"TruncatingApproval-PostPreviewLabel\">\n              {app.translator.trans('flarum-com-truncating-approval.forum.reject_content_modal.preview')}\n            </p>\n            <div class=\"TruncatingApproval-PostPreview\">\n              <div className=\"Post-body\">{!this.state.loadingPreview() ? m.trust(this.state.preview()) : <LoadingIndicator />}</div>\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>\n              {app.translator.trans('flarum-com-truncating-approval.forum.reject_content_modal.reason_label')}\n              <textarea className=\"FormControl\" bidi={this.state.reason} disabled={this.loading} />\n            </label>\n            <p className=\"helpText\">{app.translator.trans('flarum-com-truncating-approval.forum.reject_content_modal.reason_help')}</p>\n          </div>\n        </div>\n        <div className=\"Modal-footer\">\n          <Button className=\"Button\" onclick={this.hide.bind(this)} disabled={this.loading}>\n            {app.translator.trans('flarum-com-truncating-approval.forum.reject_content_modal.cancel_button')}\n          </Button>\n          <Button className=\"Button Button--danger\" icon=\"fas fa-dumpster-fire\" type=\"submit\" loading={this.state.loadingPreview() || this.loading}>\n            {app.translator.trans('flarum-com-truncating-approval.forum.reject_content_modal.confirm_truncation_button')}\n          </Button>\n        </div>\n      </>\n    );\n  }\n\n  async onsubmit(e: SubmitEvent): Promise<void> {\n    this.loading = true;\n    m.redraw();\n\n    e.preventDefault();\n\n    if (this.state.reason().trim().length === 0) {\n      this.alertAttrs = {\n        type: 'error',\n        content: extractText(app.translator.trans('flarum-com-truncating-approval.forum.reject_content_modal.errors.reason_required_alert')),\n      };\n      this.element.querySelector('textarea')?.focus();\n      this.loaded();\n      return;\n    }\n\n    await this.attrs.onsubmit(this.state.reason());\n    this.hide();\n  }\n\n  oncreate(vnode: Mithril.VnodeDOM<RejectContentModalAttrs, RejectContentModalState>): void {\n    super.oncreate(vnode);\n\n    this.getPreview();\n  }\n\n  async getPreview() {\n    try {\n      const resp = await fetch(`${app.forum.attribute('apiUrl')}/truncating-approval-preview/${this.attrs.post.id()}`);\n      const data = await resp.json();\n\n      this.state.preview(data.html);\n    } finally {\n      this.state.loadingPreview(false);\n      m.redraw();\n    }\n  }\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\n\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport icon from 'flarum/common/helpers/icon';\nimport extractText from 'flarum/common/utils/extractText';\n\nimport type ItemList from 'flarum/common/utils/ItemList';\nimport type Mithril from 'mithril';\n\nexport function awaitingApprovalTooltip() {\n  extend(CommentPost.prototype, 'headerItems', function (this: CommentPost, items: ItemList<Mithril.Children>) {\n    if (!this.attrs.post.awaitingTruncatingApproval()) return;\n\n    items.add(\n      'awaitingTruncatingApprovalTooltip',\n      <Tooltip text={extractText(app.translator.trans('flarum-com-truncating-approval.forum.post.awaiting_approval_tooltip'))}>\n        <span class=\"Post-awaitingTruncatingApproval\">\n          {icon('fas fa-low-vision')} {app.translator.trans('flarum-com-truncating-approval.forum.post.awaiting_approval')}\n        </span>\n      </Tooltip>,\n      -5\n    );\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\n\nimport { RejectContentModal } from '../components/RejectContentModal';\n\nimport PostComponent from 'flarum/forum/components/Post';\nimport Post from 'flarum/common/models/Post';\nimport PostControls from 'flarum/forum/utils/PostControls';\nimport Button from 'flarum/common/components/Button';\n\nimport type Mithril from 'mithril';\nimport type ItemList from 'flarum/common/utils/ItemList';\n\nexport function customFlags() {\n  override(PostComponent.prototype, 'flagReason', function (original, flag) {\n    if (flag.type() === 'truncatingApproval') {\n      return app.translator.trans('flarum-com-truncating-approval.forum.post.forbidden_formatting_detected');\n    }\n\n    return original(flag);\n  });\n\n  extend(PostComponent.prototype, 'flagActionItems', function (this: PostComponent, items: ItemList<Mithril.Children>) {\n    items.setContent(\n      'dismiss',\n      <Button className=\"Button\" icon=\"fas fa-check\" onclick={PostControls.truncatingApproveAction.bind(this.attrs.post, true)}>\n        {app.translator.trans('flarum-com-truncating-approval.forum.post.dismiss_flag_button')}\n      </Button>\n    );\n\n    items.add(\n      'truncatingApprove-truncate',\n      <Button className=\"Button Button--danger\" icon=\"fas fa-dumpster-fire\" onclick={() => PostControls.truncatingRejectAction(this.attrs.post)}>\n        {app.translator.trans('flarum-com-truncating-approval.forum.post.truncate_button')}\n      </Button>\n    );\n  });\n\n  PostControls.truncatingRejectAction = async function (post: Post) {\n    return app.modal.show(RejectContentModal, {\n      post,\n      onsubmit: async (reason: string) => await PostControls.truncatingApproveAction.call(post, false, reason),\n    });\n  };\n\n  PostControls.truncatingApproveAction = async function (this: Post, truncatingApprove: boolean, reason?: string) {\n    const body: Record<string, unknown> = { truncatingApprove };\n\n    if (reason) {\n      body.truncatingRejectReason = reason;\n    }\n\n    const save = this.save(body);\n    this.pushAttributes({ awaitingTruncatingApproval: false });\n\n    if (this.number() === 1) {\n      this.discussion().pushAttributes({ awaitingTruncatingApproval: false });\n    }\n\n    await save;\n  };\n}\n","import app from 'flarum/forum/app';\n\nimport { customFlags } from './extend/customFlags';\nimport Post from 'flarum/common/models/Post';\nimport { awaitingApprovalTooltip } from './extend/awaitingApprovalTooltip';\n\napp.initializers.add('flarum-com/truncating-approval', () => {\n  Post.prototype.awaitingTruncatingApproval = Post.attribute('awaitingTruncatingApproval');\n  Post.prototype.canApproveTruncatingApproval = Post.attribute('canApproveTruncatingApproval');\n\n  customFlags();\n  awaitingApprovalTooltip();\n});\n","module.exports = flarum.core.compat['common/app'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/LoadingIndicator'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/Tooltip'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/models/Post'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/extractText'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/CommentPost'];","module.exports = flarum.core.compat['forum/components/Post'];","module.exports = flarum.core.compat['forum/utils/PostControls'];","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from './src/common';\nexport * from './src/forum';\n"],"names":["app","initializers","add","console","log","Modal","Stream","LoadingIndicator","Button","extractText","RejectContentModal","_Modal","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","reason","loadingPreview","preview","_proto","prototype","className","title","translator","trans","content","m","'['","trust","bidi","disabled","loading","onclick","hide","bind","icon","type","onsubmit","_onsubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","_this$element$querySe","wrap","_callee$","_context","prev","next","redraw","preventDefault","trim","alertAttrs","element","querySelector","focus","loaded","abrupt","attrs","stop","_x","oncreate","vnode","getPreview","_getPreview","_callee2","resp","data","_callee2$","_context2","fetch","forum","attribute","post","id","sent","json","html","finish","extend","CommentPost","Tooltip","awaitingApprovalTooltip","items","awaitingTruncatingApproval","text","override","PostComponent","PostControls","customFlags","original","flag","setContent","truncatingApproveAction","truncatingRejectAction","_ref","modal","show","_x2","_ref2","_callee3","truncatingApprove","body","save","_callee3$","_context3","truncatingRejectReason","pushAttributes","number","discussion","_x3","_x4","_x5","Post","canApproveTruncatingApproval","_typeof","require","module","exports","__esModule","Op","Object","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","done","methodName","undefined","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","charAt","slice","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","_catch","thrown","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","asyncGeneratorStep","gen","_next","_throw","subClass","superClass","_setPrototypeOf","o","p"],"sourceRoot":""}